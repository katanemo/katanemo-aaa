<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts/resource-access-via-tags">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Resource Access (via Tags) | Katanemo Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://katanemo.github.io/katanemo-aaa/docs/concepts/resource-access-via-tags"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Resource Access (via Tags) | Katanemo Documentation"><meta data-rh="true" name="description" content="Tags consist of a key and value pair, and are part of a resource’s meta-data. Tags are used to ensure that API resources that belong to a set of principals are only accessible by those principals. Tags and Roles complement each other to create a powerful, yet simple authorization strategy. Roles capture what API operations can be performed by a principal, and Tags capture which resources are accessible to a set of principals. SaaS developers store Tags for resources created by their customers, and customers attach Tags to authorization principals to be used in authorization."><meta data-rh="true" property="og:description" content="Tags consist of a key and value pair, and are part of a resource’s meta-data. Tags are used to ensure that API resources that belong to a set of principals are only accessible by those principals. Tags and Roles complement each other to create a powerful, yet simple authorization strategy. Roles capture what API operations can be performed by a principal, and Tags capture which resources are accessible to a set of principals. SaaS developers store Tags for resources created by their customers, and customers attach Tags to authorization principals to be used in authorization."><link data-rh="true" rel="icon" href="/katanemo-aaa/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://katanemo.github.io/katanemo-aaa/docs/concepts/resource-access-via-tags"><link data-rh="true" rel="alternate" href="https://katanemo.github.io/katanemo-aaa/docs/concepts/resource-access-via-tags" hreflang="en"><link data-rh="true" rel="alternate" href="https://katanemo.github.io/katanemo-aaa/docs/concepts/resource-access-via-tags" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-MLLF21EZF4","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/katanemo-aaa/assets/css/styles.04a0fc5e.css">
<link rel="preload" href="/katanemo-aaa/assets/js/runtime~main.4d6879b7.js" as="script">
<link rel="preload" href="/katanemo-aaa/assets/js/main.d3d61454.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.katanemo.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/katanemo-aaa/img/katanemologo-web.png" alt="Katanemo Documentation" class="themedImage_ToTc themedImage--light_HNdA"><img src="/katanemo-aaa/img/katanemologo-web.png" alt="Katanemo Documentation" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/katanemo-aaa/docs/overview">Documentation</a><a class="navbar__item navbar__link" href="/katanemo-aaa/api">API</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/katanemo-aaa/docs/overview">Understanding Katanemo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/katanemo-aaa/docs/accounts">Accounts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/katanemo-aaa/docs/developer-quick-start-guide">Developer Quick Start Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/katanemo-aaa/docs/customer-quick-start">Customer Quick Start Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/katanemo-aaa/docs/category/concepts">Concepts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Concepts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/authorization-principles">Authorization Principals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/service">Service</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/organizations">Organizations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/roles">Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/katanemo-aaa/docs/concepts/resource-access-via-tags">Resource Access (via Tags)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/connections">Connections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/keys">Keys</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/scopes-oauth">Scopes (OAuth 2.0)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/crypto-offload-and-sessions-tokens">Crypto Offload</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/katanemo-aaa/docs/concepts/authorization-evaluation-logic">Authorization Evaluation Logic</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/katanemo-aaa/docs/category/use-cases">Use Cases</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Cases&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/katanemo-aaa/docs/category/how-to-guides">How-To Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-To Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/katanemo-aaa/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/katanemo-aaa/docs/category/concepts"><span itemprop="name">Concepts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Resource Access (via Tags)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Resource Access (via Tags)</h1><p>Tags consist of a key and value pair, and are part of a resource’s meta-data. Tags are used to ensure that API resources that belong to a set of <a href="/katanemo-aaa/docs/concepts/authorization-principles">principals</a> are only accessible by those principals. Tags and Roles complement each other to create a powerful, yet simple authorization strategy. <strong>Roles capture what API operations can be performed by a principal, and Tags capture which resources are accessible to a set of <a href="/katanemo-aaa/docs/concepts/authorization-principles">principals</a>.</strong> SaaS developers store Tags for resources created by their customers, and customers attach Tags to authorization principals to be used in authorization. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-tags-on-resources">Set Tags on Resources<a href="#set-tags-on-resources" class="hash-link" aria-label="Direct link to Set Tags on Resources" title="Direct link to Set Tags on Resources">​</a></h4><p>In order for tag-based authorization to work, tags must be applied on a customer&#x27;s resources managed by a SaaS (API) service, and attached to authorization <a href="/katanemo-aaa/docs/concepts/authorization-principles">principals</a> that can operate on those resources. For example, a user <em>(a principal)</em> in the marketing department <em>(a tag)</em> should only be able to operate only on the marketing departments’ expense sheets <em>(a resource)</em>. API subscribers can apply tags to Users, Client Keys and Roles via the Katanemo API Service Console or via the Katanemo SDK. Tag key/value pairs are set in the JWT session token generated by Katanemo for the principal and matched against tags available on the OpenAPI defined resource.</p><p><em>Note</em>: If you are using an OIDC-compliant Idp integration with Katanemo (via Connections), you will need to ensure that the session token generated by the IDP includes tags for Katanemo to perform authorization against for federated users.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tag-storage-in-katanemo">Tag Storage in Katanemo<a href="#tag-storage-in-katanemo" class="hash-link" aria-label="Direct link to Tag Storage in Katanemo" title="Direct link to Tag Storage in Katanemo">​</a></h4><p>Katanemo offers a tagging API for developers to easily store tags for resources created by an API Subscriber. With the <a href="#">Tagging API</a>, developers offload undifferentiated ABAC (attribute-based authorization control) infrastructure muck so that they can continue to focus just on what matters most to their business: building capabilities on behalf of their customers.</p><p>Katanemo’s focus on OpenAPI (once again) makes the storage and retrieval of resource Tags simple. With an OpenAPI spec developers can neatly capture resource schemas, and Katanemo uses those schemas to store and retrieve Tags. </p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">paths</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">&quot;/catalog/images/{imageId}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">operationId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> getImage</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">parameters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> imageId</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">in</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> path</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">required</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">schema</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token key atrule">pattern</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">zA</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">Z0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">9\</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">128</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain">$</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example, the OpenAPI spec above captures the definition of an <code>{imageId}</code> resource. Developers simply call the Tagging API with the imageId resource name, a resource id, and list of tags that must be associated with that image resource. For example, when a user calls the API <code>/catalog/images/12345</code>, Katanemo matches <a href="/katanemo-aaa/docs/concepts/crypto-offload-and-sessions-tokens">session token</a> tags with tags on that image resource. If <strong>all</strong> the tags associated with the image resource 12345 match tags in the session token of the principal, then the <a href="/katanemo-aaa/docs/concepts/authorization-evaluation-logic">authorization evaluation logic</a> proceeds to the next step.</p><p>Tags consist of a key name and a value, and the following restrictions apply to tags:</p><ol><li>Resource names must be fully qualified in the OpenAPI specification</li><li>Resource ids should be unique and must match the schema defined in the OpenAPI specification</li><li>You can optionally pass in a namespace qualifier if resource ids are not globally scoped. The combination of namespace and resource id must be unique so that Katanemo can store and retrieve tags effectively</li><li>Maximum tag key length: 127 Unicode characters in UTF-8</li><li>Maximum tag value length: 255 Unicode characters in UTF-8. You can also include a list of tag values for a unique tag key via the <code>[]</code> directive. For example: <code>“department&quot;: [ &quot;finance&quot;, &quot;hr&quot;, &quot;legal&quot; ].</code></li><li>Tag keys and values are case insensitive.</li><li>Maximum number of tag keys per resource: 50</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="access-tags">Access Tags<a href="#access-tags" class="hash-link" aria-label="Direct link to Access Tags" title="Direct link to Access Tags">​</a></h2><p>The above approach is commonly referred to as attribute-based access control. Tags are essentially attributes of principals (for e.g. a User) and resources. This works well for access control mechanisms of resources belonging to a single (domain) subscriber <a href="/katanemo-aaa/docs/accounts">account</a> - they can apply tags to their resources and principals without friction. But this approach becomes cumbersome if resources owned by one account should be accessible to other accounts. For example, Katanemo’s Service resource is owned by an API developer (a subscriber of Katanemo), <em>but how should an API developer give access to select Service(s) to other potential subscribers?</em></p><p>Traditionally, access and authorization mechanisms are buried deep in complex code paths with clunky if/else statements, but Katanemo solves this problem elegantly via Access Tags: RESTful access semantics encoded as tags to enable cross account resource sharing in simple, yet strictly-accurate ways. </p><p>For example, when you want to make your <a href="/katanemo-aaa/docs/concepts/service">OpenAPI Service</a> instance accessible to anyone, simply add the following tag to your Service instance: </p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">access</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token important">*principals:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above example, <code>access-tag:GET:*</code> allows GET operations on any RESTful path to the resource, <code>{serviceId}</code> is the Service resource to which access is being granted. And, <code>principals</code> are <a href="/katanemo-aaa/docs/concepts/authorization-principles">authorization principals</a> to whom access should be granted; <code>[*]</code> denotes anyone. Now, when a potential subscriber navigates to <a href="https://Katanemo.com/sign-up/%7Bservice-id%7D" target="_blank" rel="noopener noreferrer">https://Katanemo.com/sign-up/{service-id}</a>, Katanemo grants access to that sign-up page.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-defined-access-tags">System Defined Access Tags<a href="#system-defined-access-tags" class="hash-link" aria-label="Direct link to System Defined Access Tags" title="Direct link to System Defined Access Tags">​</a></h3><p>To facilitate critical interactions between SaaS developers and their customers, you’ll notice that Katanemo adds tags on select Katanemo API resources (like /org/{accountId}). These system-defined Access Tags can only be updated or deleted by Katanemo. </p><p>For example, when a customer creates a Role for a particular SaaS service, the Role resource is owned by that customer. But developers must be able to get Role details so that their <a href="/katanemo-aaa/docs/how-to-guides/katanemo-sdk-integration">ARC</a> instances can pull role policies and perform auth(z). Katanemo adds the following Access Tag:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">katanemo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">access</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">tag</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token important">*:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">role</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">prinicipals=</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">999113</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>999113 is the Katanemo account ID of the developer that needs policy details of the Role owned by their customer.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/katanemo-aaa/docs/concepts/roles"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Roles</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/katanemo-aaa/docs/concepts/connections"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connections</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#access-tags" class="table-of-contents__link toc-highlight">Access Tags</a><ul><li><a href="#system-defined-access-tags" class="table-of-contents__link toc-highlight">System Defined Access Tags</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© Katanemo 2023</div></div></div></footer></div>
<script src="/katanemo-aaa/assets/js/runtime~main.4d6879b7.js"></script>
<script src="/katanemo-aaa/assets/js/main.d3d61454.js"></script>
</body>
</html>